define(["require","exports","../services/httpclient","playbook.tagsviewmodel","playbook.drillsviewmodel"],function(n,t,i,r,u){var e=i,o=r,f=u,s=function(){function n(n){var t=this;this.tagsViewModel=new o.TagsViewModel(n),this.drillsViewModel=new f.DrillsViewModel,this.tagsViewModel.selectedTag.subscribe(function(){e.http.get("/api/drills?tagId="+t.tagsViewModel.selectedTag().id(),function(n){var i=ko.utils.arrayMap(n,function(n){return new f.DrillItem(n)});t.drillsViewModel.drills(i)})}),this.tagsViewModel.selectedTag(this.tagsViewModel.tags()[0])}return n}();t.PlaybookViewModel=s})