var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","../services/httpclient","playbook.editableitem"],function(n,t,i,r){var f=i,e=r,o=function(){function n(n){var t=this,i;this.tagToAdd=ko.observable(""),this.selectedTag=ko.observable(),i=ko.utils.arrayMap(n,function(n){return new u(n)}),this.tags=ko.observableArray(i),this.deleteTag=function(n){f.http.delete("/api/tags/"+n.id()),t.tags.remove(n)},this.selectTag=function(n){return t.selectedTag(n)},this.editTagCancel=function(){return t.selectedTag().revert()},this.editTagSave=function(){t.selectedTag().commit(),f.http.put("/api/tags/"+t.selectedTag().id(),ko.toJSON(t.selectedTag))}}return n.prototype.addTag=function(){var n=this,t=new u({name:this.tagToAdd()});this.tagToAdd(""),f.http.post("/api/tags",ko.toJSON(t),function(t){return n.tags.push(new u(t))})},n.prototype.tagNameFor=function(n){var t=ko.utils.arrayFirst(this.tags(),function(t){return t.id()===n});return t.name},n}(),u;t.TagsViewModel=o,u=function(n){function t(t){n.call(this),this.name=ko.observable(),this.id=ko.observable(),this.updateValues(t)}return __extends(t,n),t}(e.EditableItem),t.TagItem=u})