var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","../services/httpclient","playbook.editableitem"],function(n,t,i,r){var u=i,e=r,o=function(){function n(){var n=this;this.drills=ko.observableArray(),this.drillToAdd=ko.observable(""),this.clickedDrill=ko.observable(),this.hoverDrill=ko.observable(),this.useDrillEditTemplate=ko.observable(!1),this.drillClick=function(t){n.clickedDrill(t)},this.drillMouseOver=function(t){n.hoverDrill(t)},this.drillMouseOut=function(){n.hoverDrill(null)},this.selectedDrill=ko.computed(function(){var t=n.hoverDrill(),i=n.clickedDrill();return t?t:i?i:n.drills()[0]}),this.editDrill=function(){n.useDrillEditTemplate(!0)},this.cancelDrillEdit=function(){n.selectedDrill().revert(),n.useDrillEditTemplate(!1)},this.addDrill=function(){var t={name:n.drillToAdd(),tagId:1};n.drillToAdd(""),u.http.post("/api/drills",ko.toJSON(t),function(t){n.drills.push(new f(t)),console.log("Added drill")})},this.saveDrill=function(){var t=n.selectedDrill();t.commit(),n.useDrillEditTemplate(!1),u.http.put("/api/drills/"+t.id(),ko.toJSON(t))},this.deleteDrill=function(t){n.drills.remove(t),u.http.delete("/api/drills/"+t.id()),n.clickedDrill(null),n.hoverDrill(null)}}return n}(),f;t.DrillsViewModel=o,f=function(n){function t(t){n.call(this),this.id=ko.observable(),this.name=ko.observable(),this.description=ko.observable(),this.url=ko.observable(),this.tagId=ko.observable(),this.updateValues(t)}return __extends(t,n),t}(e.EditableItem),t.DrillItem=f})